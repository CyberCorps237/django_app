	{% extends 'base.html' %}
	{% load static %}


	{% block content_header %}
		Ajout nouvel etudiant
	{% endblock %}
	{% block content %}
		<div class="content-body">
			<form action="{% url 'admin_gestion:student_add_page'%}" method="post">
			{% csrf_token %}
				<div class="container-fluid">
					<div class="row">
						<div class="col-xl-12">
							<div class="card">
								<div class="card-header">
									<h5 class="mb-0">Student Details</h5>
								</div>
								<div class="card-body">
									<div class="row">
										<div class="col-xl-3 col-lg-4">
											<label class="form-label text-primary">Photo<span class="required">*</span></label>
											<div class="avatar-upload">
												<div class="avatar-preview">
													
													<div id="imagePreview"> 
														<style>
														#imagePreview{
															background-image: url("{% static 'images/no-img-avatar.png'%} ");
														}
													</style>			
													</div>
												</div>
												<div class="change-btn mt-2 mb-lg-0 mb-3">
													<input type='file' class="form-control d-none"  id="imageUpload" accept=".png, .jpg, .jpeg" name="image">
													<label for="imageUpload" class="dlab-upload mb-0 btn btn-primary btn-sm">Choose File</label>
													<a href="javascript:void" class="btn btn-danger light remove-img ms-2 btn-sm">Remove</a>
												</div>
											</div>	
										</div>
										<div class="col-xl-9 col-lg-8">
											<div class="row">
												<div class="col-xl-6 col-sm-6">
													<div class="mb-3">
													<label for="exampleFormControlInput1" class="form-label text-primary">First Name<span class="required">*</span></label>
													<input type="text" class="form-control" id="exampleFormControlInput1" placeholder="James" name="nom_etudiant">
													</div>
													<div class="mb-3">
													<label  class="form-label text-primary">Date de Naissance<span class="required">*</span></label>
														<div class="d-flex">
															<input type="date" class="form-control" placeholder="2017-06-04" id="datepicker" name="date_naissance">
														</div>
													</div>
													<div class="mb-3">
													<label for="exampleFormControlInput3" class="form-label text-primary">Email<span class="required">*</span></label>
													<input type="email" class="form-control" id="exampleFormControlInput3" placeholder="hello@example.com"
													name="email">
													</div>
													<div class="mb-3">
													<label for="exampleFormControlTextarea1" class="form-label text-primary">Address<span class="required">*</span></label>
													<textarea class="form-control" id="exampleFormControlTextarea1" rows="6" name="adresse">
														
													</textarea>
													</div>
													<div class="mb-3">
														<div class="form-check">
															<input class="form-check-input" type="radio" name="sexe" id="homme" value="Masculin" checked>
															<label class="form-check-label" for="homme">
															Masculin
															</label>
													  	</div>
														<div class="form-check">
															<input class="form-check-input" type="radio" name="sexe" id="femme" value="Feminin">
															<label class="form-check-label" for="femme">
															Feminin
														</label>
													</div>

													</div>
													<div class="col-xl-6 col-sm-6">
														{% if special %}
														<div class="mb-3">
																<label for="exampleFormControlInput9">Formation </label>
															<select class="" id="exampleFormControlInput9" name="formation_choisi">
																<option >Open this select menu</option>
																{% for indexform in special %}
																	<option value="{{ indexform.nom_formation}}">{{ indexform.nom_formation}}</option>
																{% endfor %}
															</select>
														</div>
														{% endif %}
													</div>
													
												</div>
												

												<div class="col-xl-6 col-sm-6">
													<div class="mb-3">
													<label for="exampleFormControlInput4" class="form-label text-primary">Last Name<span class="required">*</span></label>
													<input type="text" class="form-control" id="exampleFormControlInput4" placeholder="Wally" name="prenom">
													</div>
													<div class="mb-3">
													<label for="exampleFormControlInput5" class="form-label text-primary">Parent Name<span class="required">*</span></label>
													<input type="text" class="form-control" id="exampleFormControlInput5" placeholder="Mana William" name="nom_parent">
													</div>
													<div class="mb-3">
													<label for="exampleFormControlInput6" class="form-label text-primary">Phone Number<span class="required">*</span></label>
													<input type="number" class="form-control" id="exampleFormControlInput6" placeholder="+123456789" name="Telephone">
													</div>

													<div class="mb-3">
														<label for="exampleFormControlInput6" class="form-label text-primary">Phone Number parent<span class="required">*</span></label>
														<input type="number" class="form-control" id="exampleFormControlInput6" placeholder="+123456789" name="tel_parent">
													</div>
												</div>
												
												<div class="mb-3">
													<button type="submit" class="btn-info btn ">Enregistrer</button>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					
				</div>
			</form>
		</div>
		

		

		<script>
		$(function () {
			$("#datepicker").datepicker({ 
					autoclose: true, 
					todayHighlight: true
			}).datepicker('update', new Date());

		});

		</script>

		<script>
		function readURL(input) {
		if (input.files && input.files[0]) {
		var reader = new FileReader();
		reader.onload = function(e) {
			$('#imagePreview').css('background-image', 'url('+e.target.result +')');
			$('#imagePreview').hide();
			$('#imagePreview').fadeIn(650);
		}
		reader.readAsDataURL(input.files[0]);
		}
		}
		$("#imageUpload").change(function() {
		readURL(this);
		});
		$('.remove-img').on('click', function() {
		var imageUrl = "images/no-img-avatar.png";
		$('.avatar-preview, #imagePreview').removeAttr('style');
		$('#imagePreview').css('background-image', 'url(' + imageUrl + ')');
		});



		</script>

{% endblock %}